# SleepyTube 用户使用指南

## 📖 欢迎使用 SleepyTube!

**SleepyTube** 是一款 Chrome 浏览器扩展，专为需要在睡眠时观看 YouTube 视频的用户设计。它能智能稳定音量、消除突然的声音尖峰，让你安心入睡。

**版本**: v1.3.0  
**更新日期**: 2026-02-08  
**支持平台**: Chrome 浏览器（版本 90+）

---

## 目录
1. [安装扩展](#1-安装扩展)
2. [首次使用 - Onboarding 引导](#2-首次使用---onboarding-引导)
3. [基础使用](#3-基础使用)
4. [场景模式详解](#4-场景模式详解)
5. [高级设置](#5-高级设置)
6. [AI 视频预测功能](#6-ai-视频预测功能)
7. [常见问题 FAQ](#7-常见问题-faq)
8. [故障排除](#8-故障排除)

---

## 1. 安装扩展

### 方式一: 从 Chrome Web Store 安装（推荐）

> ⚠️ **注意**: 目前尚未上架 Chrome Web Store，敬请期待！

**步骤**:
1. 访问 Chrome Web Store
2. 搜索 "SleepyTube"
3. 点击 "添加至 Chrome"
4. 确认安装

### 方式二: 手动安装（开发者模式）

**前提条件**:
- 已安装 Chrome 浏览器（版本 90 或更高）
- 已从 GitHub 下载源代码

**安装步骤**:

```
步骤 1: 下载源代码
├─ 访问: https://github.com/sleepytube/sleepytube
├─ 点击绿色 "Code" 按钮
└─ 选择 "Download ZIP"
    └─ 解压到本地文件夹

步骤 2: 打开 Chrome 扩展管理页面
├─ 在浏览器地址栏输入: chrome://extensions/
├─ 按 Enter 键
└─ [📸 截图1: Chrome 扩展管理页面] ← 请你添加截图

步骤 3: 启用开发者模式
├─ 在页面右上角找到"开发者模式"开关
├─ 点击开关，启用开发者模式
└─ [📸 截图2: 开发者模式开关] ← 请你添加截图

步骤 4: 加载扩展
├─ 点击左上角"加载已解压的扩展程序"按钮
├─ 在文件选择器中，导航到解压后的文件夹
├─ 选择 `/extension` 文件夹（不是根目录！）
└─ 点击"选择文件夹"
    └─ [📸 截图3: 选择 extension 文件夹] ← 请你添加截图

步骤 5: 确认安装成功
├─ 扩展列表中出现 "SleepyTube" 卡片
├─ 卡片右下角显示"已启用"
├─ 浏览器工具栏出现 SleepyTube 图标
└─ [📸 截图4: 安装成功界面] ← 请你添加截图
```

**常见问题**:
- **Q: 提示"无法加载扩展"？**
  - A: 确保选择的是 `extension` 文件夹，不是项目根目录
- **Q: 图标没有出现在工具栏？**
  - A: 点击工具栏右侧的"拼图"图标，将 SleepyTube 固定到工具栏

---

## 2. 首次使用 - Onboarding 引导

安装成功后，SleepyTube 会自动打开引导页面，帮助你快速配置。

### Step 1: Welcome 欢迎页面

**展示内容**:
- 🌙 产品介绍：将 YouTube 转变为睡眠安全的音频体验
- ✅ 三大核心功能：
  1. 平滑音量控制
  2. 温和声音处理
  3. AI 质量预测

**操作**:
- 点击右下角 "Next" 按钮进入下一步

**截图标注位置**:
```
[📸 截图5: Onboarding Step 1 - Welcome 页面]
├─ 标注1: 页面标题 "Welcome to SleepyTube! 😴"
├─ 标注2: 三个核心功能图标
└─ 标注3: "Next" 按钮位置
```

---

### Step 2: Scene 场景选择

**展示内容**:
- 3 个预设场景卡片（Sleep / Podcast / Movie）
- 每个卡片包含：
  - 渐变色图标
  - 场景名称
  - 简短描述

**场景说明**:

| 场景 | 图标颜色 | 适用场景 | 音频特点 |
|------|---------|---------|---------|
| **Sleep** 😴 | 紫蓝渐变 | 睡前放松、ASMR | 超温和，强压缩 |
| **Podcast** 🎤 | 橙黄渐变 | 播客、有声书 | 语音清晰，背景降噪 |
| **Movie** 🎬 | 粉紫渐变 | 电影、纪录片 | 平衡体验，保留动态 |

**操作**:
- 点击任意卡片选择场景（卡片会显示"✓"标记）
- 也可点击右下角 "Skip" 跳过（稍后在 Popup 配置）
- 点击 "Next" 继续

**截图标注位置**:
```
[📸 截图6: Onboarding Step 2 - Scene Selection]
├─ 标注1: 标题 "Choose Your Scene 🎬"
├─ 标注2: Sleep 场景卡片（紫蓝色月亮图标）
├─ 标注3: Podcast 场景卡片（橙黄色麦克风图标）
├─ 标注4: Movie 场景卡片（粉紫色场记板图标）
├─ 标注5: 卡片选中状态（右上角金色 ✓）
└─ 标注6: "Skip" 和 "Next" 按钮
```

---

### Step 3: AI Setup AI 配置

**展示内容**:
- AI 功能说明：可选功能，帮助预测视频音频质量
- 两个 AI Provider 选择：Gemini（免费）/ OpenAI（付费）
- API Key 输入框（密码类型，保护隐私）
- 获取 API Key 链接

**AI Provider 对比**:

| Provider | 费用 | 免费额度 | 响应速度 | 推荐人群 |
|----------|------|---------|---------|---------|
| **Gemini** | 免费 | 60次/分钟 | ~1.5s | 普通用户 ✅ |
| **OpenAI** | 付费 | 无免费 | ~1s | 高级用户 |

**操作**:
1. 选择 AI Provider（默认 Gemini）
2. 点击"Get free Gemini API key"链接
   - 跳转到 Google AI Studio
   - 登录 Google 账号
   - 创建 API 密钥
   - 复制密钥
3. 回到引导页面，粘贴密钥到输入框
4. 点击 "Next" 继续
   - 或点击 "Skip" 跳过（稍后在 Popup 配置）

**截图标注位置**:
```
[📸 截图7: Onboarding Step 3 - AI Setup]
├─ 标注1: 标题 "AI Video Predictor 🤖"
├─ 标注2: Gemini 按钮（左侧，标记 "FREE"）
├─ 标注3: OpenAI 按钮（右侧，标记 "PAID"）
├─ 标注4: API Key 输入框（密码框）
├─ 标注5: "Get free Gemini API key" 链接
└─ 标注6: "Skip" 和 "Next" 按钮
```

---

### Step 4: Ready 完成页面

**展示内容**:
- 🎉 确认配置已保存
- 3 步使用指南：
  1. 打开 YouTube 视频
  2. 点击播放器内的 SleepyTube 按钮
  3. 享受安全音频
- 语言切换器（English / 中文）

**操作**:
- 选择界面语言（可选）
- 点击 "Get Started" 按钮完成引导
- 自动关闭引导页面

**截图标注位置**:
```
[📸 截图8: Onboarding Step 4 - Ready]
├─ 标注1: 标题 "You're All Set! 🎉"
├─ 标注2: 三步使用指南（带图标）
├─ 标注3: 语言切换下拉菜单
└─ 标注4: "Get Started" 按钮
```

---

## 3. 基础使用

### 3.1 在视频播放器中开启/关闭

**步骤**:
1. 打开任意 YouTube 视频页面
2. 在视频播放器底部控制栏找到 SleepyTube 按钮
   - 图标：音频波形 + "睡眠"文字
   - 位置：音量按钮右侧
3. 点击按钮开启音频处理
   - 按钮变为金色（已启用状态）
   - 音频立即开始平滑处理
4. 再次点击即可关闭

**视觉反馈**:
- **未启用**: 灰色按钮
- **已启用**: 金色按钮 + 微弱光晕效果

**截图标注位置**:
```
[📸 截图9: YouTube 播放器 - Sl 按钮]
├─ 标注1: 播放器底部控制栏
├─ 标注2: SleepyTube 按钮位置（音量右侧）
├─ 标注3: 未启用状态（灰色）
└─ 标注4: 已启用状态（金色）
```

---

### 3.2 使用 Popup 面板快速切换场景

**打开 Popup 面板**:
- 方式1: 点击浏览器工具栏的 SleepyTube 图标
- 方式2: 右键扩展图标 → 点击扩展名称

**Popup 界面布局**:
```
┌─ SleepyTube Popup ────────────┐
│ 📊 实时波形显示               │ ← 显示处理前后的音频波形
├───────────────────────────────┤
│ 场景选择标签:                 │
│  [OFF] [Sleep] [Podcast] [Movie] │ ← 点击切换场景
├───────────────────────────────┤
│ 当前设置预览:                 │
│  Stability: Medium            │
│  Sound: Gentle                │
│  Voice Focus: Off             │
│  AGC: On                      │
└───────────────────────────────┘
```

**快速切换场景步骤**:
1. 打开 Popup
2. 点击顶部场景标签（OFF / Sleep / Podcast / Movie）
3. 选中的场景会高亮显示
4. 当前设置自动更新

**截图标注位置**:
```
[📸 截图10: Popup 面板 - 场景切换]
├─ 标注1: 实时波形显示区域
│   ├─ Before: 红色波形（原始音频）
│   └─ After: 绿色波形（处理后音频）
├─ 标注2: 场景标签栏
│   ├─ OFF 标签（关闭所有处理）
│   ├─ Sleep 标签（月亮图标）
│   ├─ Podcast 标签（麦克风图标）
│   └─ Movie 标签（场记板图标）
├─ 标注3: 当前设置预览卡片
└─ 标注4: 设置按钮（右上角齿轮图标）
```

---

## 4. 场景模式详解

### 4.1 Sleep 模式 😴

**适用场景**:
- 睡前听 ASMR、白噪音
- 深夜看放松类视频
- 需要绝对安静的环境

**音频特性**:
- **压缩强度**: Strong（6:1 比率）
- **目标响度**: -20 LUFS（较低）
- **EQ 预设**: Gentle（柔和）
  - 高频衰减 -3dB（减少刺耳感）
  - 低频衰减 -2dB（减少轰鸣）
- **语音聚焦**: 关闭
- **自动增益**: 开启

**效果对比**:
- ✅ 音量波动减少 80%
- ✅ 突然尖峰完全消除
- ✅ 整体音量降低 20%

**推荐内容**:
- ASMR 耳语、触发音
- 自然白噪音（雨声、海浪）
- 轻音乐、冥想引导

---

### 4.2 Podcast 模式 🎤

**适用场景**:
- 收听播客、有声书
- 观看访谈、演讲视频
- 需要清晰人声的内容

**音频特性**:
- **压缩强度**: Medium（4:1 比率）
- **目标响度**: -18 LUFS（中等）
- **EQ 预设**: Natural（自然）
- **语音聚焦**: 开启
  - 增强 300-3400Hz 频段（人声范围）
  - 背景音乐降低 -9dB
- **自动增益**: 开启

**效果对比**:
- ✅ 人声清晰度提升 40%
- ✅ 背景音乐不抢戏
- ✅ 音量稳定，无需频繁调整

**推荐内容**:
- 播客节目
- 有声书、讲座
- 访谈、脱口秀

---

### 4.3 Movie 模式 🎬

**适用场景**:
- 深夜看电影、纪录片
- 观看游戏实况
- 需要保留一定动态范围的内容

**音频特性**:
- **压缩强度**: Light（3:1 比率）
- **目标响度**: -16 LUFS（较高）
- **EQ 预设**: Natural（自然）
- **语音聚焦**: 关闭
- **硬限幅器**: 开启（防止爆音）

**效果对比**:
- ✅ 保留电影动态感
- ✅ 对话不会被BGM淹没
- ✅ 动作场景不会过于刺激

**推荐内容**:
- 电影、电视剧
- 纪录片、游戏实况
- MV、音乐会

---

### 4.4 OFF 模式 ⭕

**说明**: 关闭所有音频处理，恢复原始 YouTube 音频。

**使用场景**:
- 需要听原汁原味的音乐
- 进行音频对比测试
- 临时关闭功能

---

## 5. 高级设置

### 5.1 打开高级设置面板

**步骤**:
1. 打开 Popup 面板
2. 点击右上角齿轮图标 ⚙️
3. 弹出高级设置面板

**截图标注位置**:
```
[📸 截图11: 高级设置按钮]
└─ 标注: 右上角齿轮图标位置
```

---

### 5.2 音频处理 (Audio processing)

**可调节参数**:

#### Stability Level (稳定性级别)
- **Light**: 轻度压缩，保留更多动态
- **Medium**: 中度压缩，平衡效果 ← 默认
- **Strong**: 强力压缩，最大稳定

#### Sound Character (声音特性)
- **Natural**: 自然音色，无EQ调整
- **Gentle**: 柔和音色，减少高低频 ← 默认
- **Soft**: 超柔和，最大限度削弱刺激频率

**截图标注位置**:
```
[📸 截图12: Audio processing 设置区域]
├─ 标注1: 区域标题 "Audio processing"
├─ 标注2: 折叠/展开箭头
├─ 标注3: Stability Level 三个按钮
└─ 标注4: Sound Character 三个按钮
```

---

### 5.3 语音增强 (Voice enhancement)

**开关**:
- Voice Focus: 启用/禁用语音聚焦功能

**滑块**:
- Background Reduction: 背景音乐降低量（0 ~ -12 dB）
  - 数值越大，背景音越小

**推荐设置**:
- 播客、有声书: Voice Focus = ON, Reduction = -9dB
- 音乐、ASMR: Voice Focus = OFF

**截图标注位置**:
```
[📸 截图13: Voice enhancement 设置区域]
├─ 标注1: Voice Focus 开关
├─ 标注2: Background Reduction 滑块
└─ 标注3: 滑块数值显示
```

---

### 5.4 音量控制 (Volume control)

**开关**:
- Auto Gain Control (AGC): 启用/禁用自动增益

**滑块**:
- Target Loudness: 目标响度（-24 ~ -12 LUFS）
  - -24: 极安静（适合极度敏感用户）
  - -18: 正常（推荐）
  - -12: 响亮（适合嘈杂环境）

- Output Volume: 最终输出音量（-12 ~ +12 dB）
  - 0dB: 无增益/衰减（推荐）
  - +12dB: 最大增益

**截图标注位置**:
```
[📸 截图14: Volume control 设置区域]
├─ 标注1: Auto Gain Control 开关
├─ 标注2: Target Loudness 滑块
└─ 标注3: Output Volume 滑块
```

---

### 5.5 语速控制 (Speech rate)

**功能说明**: 自动检测说话语速，过快时降低播放速度。

**开关**:
- Speech Rate Adjustment: 启用/禁用语速调整

**预设**:
- Slow: 目标 2.5 音节/秒
- Normal: 目标 3.5 音节/秒 ← 默认
- Fast: 目标 4.5 音节/秒
- Auto: 自动适配

**实时显示**:
- Detected: 当前检测到的语速
- Playback: 当前播放速度（如 0.9x）

**截图标注位置**:
```
[📸 截图15: Speech rate 设置区域]
├─ 标注1: Speech Rate Adjustment 开关
├─ 标注2: 四个预设按钮
└─ 标注3: 实时语速显示
```

---

### 5.6 AI 视频预测 (AI video predictor)

详见 [第 6 章节](#6-ai-视频预测功能)

---

## 6. AI 视频预测功能

### 6.1 功能介绍

**作用**: 在观看视频前，AI 帮你预测音频是否适合睡眠。

**显示形式**: 视频缩略图右上角出现徽章：
- ✓ **音质良好**: 绿色徽章，安全观看
- ⚠ **X个问题**: 橙/红色徽章，提示可能有问题

**检测内容**:
1. 嘈杂的背景音乐
2. 音量不一致
3. 突然的音效/笑声/掌声
4. 语速过快
5. 音调过高

---

### 6.2 配置 AI 预测

#### Step 1: 开启功能

**在 Popup 高级设置中**:
1. 滚动到 "AI video predictor 🤖" 区域
2. 点击折叠箭头展开
3. 打开 "Enable AI Video Prediction" 开关
4. AI 状态指示器会显示

**截图标注位置**:
```
[📸 截图16: AI Predictor 设置区域]
├─ 标注1: 区域标题 "AI video predictor 🤖"
├─ 标注2: Enable 开关
└─ 标注3: AI 状态指示器
    ├─ Status: ⚠️ No API key
    ├─ Provider: —
    └─ API Key: —
```

---

#### Step 2: 选择 AI Provider

**Gemini (推荐)**:
- 点击 "Gemini" 按钮
- 优势: 免费，60次/分钟额度
- 劣势: 响应稍慢（~1.5s）

**OpenAI**:
- 点击 "OpenAI" 按钮
- 优势: 准确率更高，响应更快（~1s）
- 劣势: 需付费，无免费额度

**截图标注位置**:
```
[📸 截图17: AI Provider 选择]
├─ 标注1: Gemini 按钮（左侧，"Free" 标签）
└─ 标注2: OpenAI 按钮（右侧，"Paid" 标签）
```

---

#### Step 3: 获取并输入 API Key

**Gemini API Key 获取**:

```
1. 点击 "Get free Gemini API key" 链接
   └─ 跳转到: https://makersuite.google.com/app/apikey

2. 登录 Google 账号
   └─ 如果未登录，会提示登录

3. 点击 "Create API Key" 按钮
   └─ [📸 截图18: Google AI Studio 页面] ← 请你添加截图
       └─ 标注: "Create API Key" 按钮位置

4. 选择或创建一个 Google Cloud 项目
   └─ 首次使用可选择 "Create new project"

5. 复制生成的 API Key
   └─ 格式: AIzaSy... (很长的字符串)
   └─ [📸 截图19: API Key 生成成功] ← 请你添加截图
       └─ 标注: 复制按钮位置

6. 回到 SleepyTube 设置页面
   └─ 粘贴 API Key 到输入框
   └─ [📸 截图20: 粘贴 API Key] ← 请你添加截图
       └─ 标注: API Key 输入框
```

**OpenAI API Key 获取** (付费):
1. 访问: https://platform.openai.com/api-keys
2. 登录 OpenAI 账号
3. 点击 "Create new secret key"
4. 复制 Key 并粘贴到 SleepyTube

---

#### Step 4: 确认配置成功

**检查 AI 状态指示器**:

配置前:
```
Status:   ⚠️ No API key
Provider: —
API Key:  —
```

配置后:
```
Status:   ✅ Ready
Provider: Gemini (Free)
API Key:  AIzaSyBo...
```

**截图标注位置**:
```
[📸 截图21: AI 状态 - 配置成功]
├─ 标注1: Status 显示 "✅ Ready" (绿色)
├─ 标注2: Provider 显示 "Gemini (Free)"
└─ 标注3: API Key 显示前8位 + "..."
```

---

### 6.3 使用 AI 预测

#### 在 YouTube 首页查看徽章

**步骤**:
1. 配置好 AI 功能后
2. 打开 YouTube 首页或搜索结果页
3. 等待 5-10 秒（AI 分析需要时间）
4. 视频缩略图右上角会出现徽章

**徽章类型**:

| 徽章 | 颜色 | 含义 | 建议 |
|------|------|------|------|
| ✓ 音质良好 | 绿色 | 未检测到问题 | 可放心观看 |
| ⚠ 1个问题 | 橙色 | 检测到轻微问题 | 可以观看，注意调整 |
| ⚠ 3+个问题 | 红色 | 检测到多个问题 | 不推荐睡前观看 |

**截图标注位置**:
```
[📸 截图22: YouTube 首页 - AI 徽章显示]
├─ 标注1: 视频缩略图
├─ 标注2: 右上角徽章位置
│   ├─ 绿色: "✓ 音质良好"
│   ├─ 橙色: "⚠ 1个问题"
│   └─ 红色: "⚠ 3个问题"
└─ 标注3: 鼠标悬停显示详情（Tooltip）
```

---

#### 查看问题详情

**操作**: 鼠标悬停在徽章上，会显示 Tooltip 详情。

**Tooltip 内容**:
```
⚠ 检测到音频问题
───────────────────
🎵 背景音乐嘈杂
📊 音量不一致
⚡ 突然音效
───────────────────
置信度: high
```

**截图标注位置**:
```
[📸 截图23: AI 徽章 Tooltip]
├─ 标注1: Tooltip 弹窗
├─ 标注2: 问题列表（带图标）
└─ 标注3: 置信度显示
```

---

### 6.4 AI 预测的工作原理

**数据处理流程**:
```
YouTube 视频卡片
    ↓
提取信息 (标题、频道、时长)
    ↓
检查本地缓存 (24小时有效)
    ├─ 命中 → 直接显示徽章
    └─ 未命中 ↓
发送到 AI API (Gemini/OpenAI)
    ↓
AI 分析并返回预测结果
    ↓
缓存结果 + 显示徽章
```

**隐私说明**:
- ✅ 仅发送视频元数据（标题、频道、时长）
- ✅ 不发送个人观看历史
- ✅ 不收集用户数据
- ✅ API Key 存储在本地，不上传服务器

---

## 7. 常见问题 FAQ

### Q1: SleepyTube 会影响视频播放性能吗？

**A**: 不会。
- CPU 占用 < 5%
- 内存占用 < 50MB
- 音频延迟 < 10ms（人耳无感知）

---

### Q2: 能在移动端使用吗？

**A**: 目前不支持。
- iOS/Android 浏览器不支持 Web Audio API 完整功能
- 计划未来推出独立移动 App

---

### Q3: 为什么有时候 Player 按钮不显示？

**可能原因**:
1. **页面未完全加载**: 等待 2-3 秒
2. **YouTube 改版**: DOM 结构变化，需更新扩展
3. **其他扩展冲突**: 禁用其他音频相关扩展试试

**解决方法**:
- 刷新页面 (F5)
- 重启浏览器
- 重新加载扩展

---

### Q4: AI 预测准确吗？

**准确率**:
- Gemini: 约 75-80%
- OpenAI: 约 85-90%

**影响因素**:
- 视频标题信息量（标题越详细越准确）
- AI 训练数据覆盖度
- 语言（英文准确率更高）

**建议**:
- 仅作参考，不是100%准确
- 可结合缩略图、标题自行判断

---

### Q5: 可以自定义场景参数吗？

**A**: 可以！
1. 在 Popup 高级设置中调整各项参数
2. 调整后场景会自动切换为 "Custom"
3. 配置会自动保存

---

### Q6: 语音聚焦和 Podcast 场景的区别？

**语音聚焦 (Voice Focus)**:
- 单独的功能开关
- 增强人声，降低背景音

**Podcast 场景**:
- 预设配置集合
- 包含: 中度压缩 + 语音聚焦 + 自然EQ

---

### Q7: AI 功能免费吗？

**A**: 分情况。
- **Gemini**: 提供免费额度（60次/分钟）
- **OpenAI**: 无免费，按调用收费

**费用说明**:
- 用户自备 API Key
- SleepyTube 不收取任何费用
- API 费用由提供商收取

---

### Q8: 如何关闭 AI 预测？

**步骤**:
1. 打开 Popup → 高级设置
2. 找到 "AI video predictor"
3. 关闭 "Enable AI Video Prediction" 开关
4. 徽章会立即消失

---

### Q9: 可以同时使用多个场景吗？

**A**: 不可以。
- 同一时间只能激活一个场景
- 切换场景会覆盖之前的设置

---

### Q10: 扩展会读取我的个人信息吗？

**A**: 绝对不会。
- 所有处理在本地完成
- 不上传任何数据到我们的服务器
- AI 功能仅发送视频元数据到第三方 API
- 完全开源，代码可审计

---

## 8. 故障排除

### 问题 1: 扩展无法加载

**症状**: Chrome 提示"无法加载扩展程序"

**解决方案**:
1. 确认选择的是 `extension` 文件夹，不是项目根目录
2. 检查文件夹内是否有 `manifest.json`
3. 确认 Chrome 版本 ≥ 90
4. 重新下载源代码，可能文件损坏

---

### 问题 2: 按钮点击无反应

**症状**: 点击 Player 按钮后没有变化

**解决方案**:
1. F12 打开开发者工具 → Console 标签
2. 查看是否有红色错误
3. 刷新页面重试
4. 如果问题持续，提交 Issue 到 GitHub

---

### 问题 3: AI 徽章不显示

**症状**: 配置了 API Key 但没有徽章

**检查步骤**:
```
1. 确认 "Enable AI Video Prediction" 已开启
   └─ Popup → 高级设置 → AI video predictor

2. 确认 API Key 正确
   └─ 状态显示 "✅ Ready"

3. 确认在正确的页面
   └─ 仅首页/搜索结果页显示徽章
   └─ 视频播放页不显示

4. 等待足够时间
   └─ AI 分析需要 5-10 秒

5. 检查 Console 日志
   └─ F12 → Console
   └─ 搜索 "[AI Predictor]" 或 "[Badge Observer]"
   └─ 查看是否有错误信息
```

**常见错误**:
- `API error: 400` → API Key 格式错误
- `API error: 403` → API Key 无效或被禁用
- `API error: 429` → 配额已用完，等待1分钟后重试
- `Found 0 video cards` → 不在正确的页面

---

### 问题 4: 音频有杂音/卡顿

**症状**: 开启处理后音频出现异常

**解决方案**:
1. 降低压缩强度: Strong → Medium → Light
2. 关闭语音聚焦功能
3. 检查 CPU 占用（任务管理器）
   - 如果过高，关闭其他标签页
4. 更新 Chrome 到最新版本
5. 重启浏览器

---

### 问题 5: 配置不保存

**症状**: 重启浏览器后配置丢失

**解决方案**:
1. 检查 Chrome 是否允许扩展同步数据
   - chrome://settings/syncSetup
   - 开启 "扩展程序" 同步
2. 确认浏览器未使用隐身模式
3. 检查磁盘空间是否充足
4. 尝试手动触发同步:
   - chrome://sync-internals/
   - 点击 "Trigger Sync"

---

### 问题 6: 无法获取 Gemini API Key

**症状**: 点击链接后无法创建 Key

**可能原因**:
1. **地区限制**: Gemini 可能在某些地区不可用
2. **账号问题**: Google 账号未激活
3. **配额限制**: Google Cloud 项目配额已满

**解决方案**:
1. 使用 VPN 切换到支持的地区
2. 尝试使用另一个 Google 账号
3. 切换到 OpenAI Provider（付费）

---

### 问题 7: 如何完全卸载？

**步骤**:
1. 打开 chrome://extensions/
2. 找到 SleepyTube 卡片
3. 点击 "移除" 按钮
4. 确认卸载
5. 清除数据（可选）:
   - F12 → Application → Storage → Clear site data
   - 搜索 "chrome-extension://..."

---

## 9. 反馈与支持

### 报告 Bug

**GitHub Issues**: https://github.com/sleepytube/sleepytube/issues

**提交时请包含**:
1. Chrome 版本 (`chrome://version`)
2. 扩展版本 (Popup 左下角显示)
3. 详细复现步骤
4. 控制台错误截图 (F12 → Console)
5. 操作系统信息

---

### 功能建议

**GitHub Discussions**: https://github.com/sleepytube/sleepytube/discussions

欢迎提出:
- 新功能想法
- UI/UX 改进建议
- 性能优化方向

---

### 贡献代码

**欢迎 PR!**

1. Fork 项目
2. 创建功能分支
3. 提交 PR
4. 等待 Review

**贡献指南**: 见 `CONTRIBUTING.md`

---

## 10. 致谢

感谢所有为 SleepyTube 做出贡献的开发者和用户！

**特别鸣谢**:
- Web Audio API 开发团队
- Google Gemini AI
- Open Source 社区

---

**文档版本**: v1.0  
**最后更新**: 2026-02-08  
**维护者**: SleepyTube Team

💤 祝你有个好梦！
