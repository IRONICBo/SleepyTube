<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome to SleepyTube</title>
  <link rel="stylesheet" href="onboarding.css">
</head>
<body>
  <div class="onboarding-container">
    
    <!-- Progress Bar -->
    <div class="progress-bar">
      <div class="progress-step active" data-step="1">
        <div class="step-circle">1</div>
        <div class="step-label" data-i18n="onboarding.step1">Welcome</div>
      </div>
      <div class="progress-line"></div>
      <div class="progress-step" data-step="2">
        <div class="step-circle">2</div>
        <div class="step-label" data-i18n="onboarding.step2">Scene</div>
      </div>
      <div class="progress-line"></div>
      <div class="progress-step" data-step="3">
        <div class="step-circle">3</div>
        <div class="step-label" data-i18n="onboarding.step3">AI Setup</div>
      </div>
      <div class="progress-line"></div>
      <div class="progress-step" data-step="4">
        <div class="step-circle">4</div>
        <div class="step-label" data-i18n="onboarding.step4">Ready</div>
      </div>
    </div>

    <!-- Slides Container -->
    <div class="slides-container">
      
      <!-- Slide 1: Language Selection + Welcome -->
      <div class="slide active" data-slide="1">
        <h1 data-i18n="onboarding.welcome.title">Welcome to SleepyTube! üò¥</h1>
        <p class="slide-description" data-i18n="onboarding.welcome.description">
          Transform YouTube into a sleep-safe audio experience.
        </p>
        
        <!-- Language Selection First -->
        <div class="language-selection">
          <label class="language-label" data-i18n="onboarding.language.title">Choose your language:</label>
          <div class="language-options">
            <button class="language-option" data-lang="en">
              <div class="language-flag">üá∫üá∏</div>
              <div class="language-name">English</div>
            </button>
            <button class="language-option" data-lang="zh">
              <div class="language-flag">üá®üá≥</div>
              <div class="language-name">‰∏≠Êñá</div>
            </button>
          </div>
        </div>
        
        <div class="feature-highlights">
          <div class="highlight-item">
            <span class="highlight-icon">üîä</span>
            <span data-i18n="onboarding.welcome.feature1">Smooth volume control</span>
          </div>
          <div class="highlight-item">
            <span class="highlight-icon">üéµ</span>
            <span data-i18n="onboarding.welcome.feature2">Gentle sound processing</span>
          </div>
          <div class="highlight-item">
            <span class="highlight-icon">ü§ñ</span>
            <span data-i18n="onboarding.welcome.feature3">AI quality prediction</span>
          </div>
        </div>
      </div>

      <!-- Slide 2: Scene Selection -->
      <div class="slide" data-slide="2">
        <h1 data-i18n="onboarding.scene.title">Choose Your Scene</h1>
        <p class="slide-description" data-i18n="onboarding.scene.description">
          Select a preset optimized for your listening scenario. You can always change this later.
        </p>
        
        <div class="scene-selection">
          <div class="scene-grid">
            <div class="scene-card" data-scene="sleep">
              <div class="scene-icon">
                <svg width="56" height="56" viewBox="0 0 24 24" fill="none">
                  <circle cx="12" cy="12" r="10" fill="url(#sleepGradient)" opacity="0.2"/>
                  <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" fill="url(#sleepGradient)"/>
                  <defs>
                    <linearGradient id="sleepGradient" x1="0" y1="0" x2="24" y2="24">
                      <stop offset="0%" stop-color="#6366F1"/>
                      <stop offset="100%" stop-color="#8B5CF6"/>
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              <h3 data-i18n="onboarding.scene.sleep.title">Sleep</h3>
              <p data-i18n="onboarding.scene.sleep.description">Ultra-gentle, no surprises</p>
            </div>
            
            <div class="scene-card" data-scene="podcast">
              <div class="scene-icon">
                <svg width="56" height="56" viewBox="0 0 24 24" fill="none">
                  <circle cx="12" cy="12" r="10" fill="url(#podcastGradient)" opacity="0.2"/>
                  <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z" fill="url(#podcastGradient)"/>
                  <path d="M9 12v1a3 3 0 0 0 6 0v-1" stroke="url(#podcastGradient)" stroke-width="2" fill="none" stroke-linecap="round"/>
                  <path d="M12 16v3" stroke="url(#podcastGradient)" stroke-width="2" stroke-linecap="round"/>
                  <path d="M9 19h6" stroke="url(#podcastGradient)" stroke-width="2" stroke-linecap="round"/>
                  <defs>
                    <linearGradient id="podcastGradient" x1="0" y1="0" x2="24" y2="24">
                      <stop offset="0%" stop-color="#F59E0B"/>
                      <stop offset="100%" stop-color="#F97316"/>
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              <h3 data-i18n="onboarding.scene.podcast.title">Podcast</h3>
              <p data-i18n="onboarding.scene.podcast.description">Voice clarity focused</p>
            </div>
            
            <div class="scene-card" data-scene="movie">
              <div class="scene-icon">
                <svg width="56" height="56" viewBox="0 0 24 24" fill="none">
                  <circle cx="12" cy="12" r="10" fill="url(#movieGradient)" opacity="0.2"/>
                  <rect x="3" y="8" width="18" height="12" rx="2" fill="url(#movieGradient)"/>
                  <path d="M7 8l-2 4M12 8l-2 4M17 8l-2 4M21 8l-1.5 3" stroke="#FFFFFF" stroke-width="1.5" stroke-linecap="round"/>
                  <defs>
                    <linearGradient id="movieGradient" x1="0" y1="0" x2="24" y2="24">
                      <stop offset="0%" stop-color="#EC4899"/>
                      <stop offset="100%" stop-color="#8B5CF6"/>
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              <h3 data-i18n="onboarding.scene.movie.title">Movie</h3>
              <p data-i18n="onboarding.scene.movie.description">Balanced experience</p>
            </div>
          </div>
          
          <div class="skip-notice">
            <span class="skip-notice-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <circle cx="12" cy="12" r="10" stroke-width="2"/>
                <path d="M12 16v-4M12 8h.01" stroke-width="2" stroke-linecap="round"/>
              </svg>
            </span>
            <span data-i18n="onboarding.scene.skipNotice">
              You can skip this and configure manually later in settings.
            </span>
          </div>
        </div>
      </div>

      <!-- Slide 3: API Configuration -->
      <div class="slide" data-slide="3">
        <h1 data-i18n="onboarding.api.title">AI Video Predictor</h1>
        <p class="slide-description" data-i18n="onboarding.api.description">
          Optional: Enable AI to predict video audio quality before you watch. Get badges showing potential issues.
        </p>
        
        <div class="api-config">
          <div class="config-section">
            <h3>
              <span data-i18n="onboarding.api.provider">Choose Provider</span>
            </h3>
            
            <div class="provider-tabs">
              <div class="provider-tab active" data-provider="gemini">
                <span>Gemini</span>
              </div>
              <div class="provider-tab" data-provider="openai">
                <span>OpenAI</span>
              </div>
            </div>
            
            <div class="input-group">
              <label class="config-label" data-i18n="onboarding.api.apiKey">API Key</label>
              <input 
                type="password" 
                class="api-input" 
                id="api-key-input"
                placeholder="Enter your API key (optional)"
              >
              <div class="help-text" id="api-help-text">
                <span class="help-icon">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <circle cx="12" cy="12" r="10" stroke-width="2"/>
                    <path d="M12 16v-4M12 8h.01" stroke-width="2" stroke-linecap="round"/>
                  </svg>
                </span>
                <span>
                  <span data-i18n="onboarding.api.helpText">Get a free API key:</span>
                  <a href="https://makersuite.google.com/app/apikey" target="_blank" id="api-link" data-i18n="onboarding.api.getKey">
                    Click here ‚Üí
                  </a>
                </span>
              </div>
            </div>
          </div>
          
          <div class="skip-notice">
            <span class="skip-notice-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M5 4l10 8-10 8V4z" fill="currentColor"/>
                <path d="M15 4l10 8-10 8V4z" fill="currentColor"/>
              </svg>
            </span>
            <span data-i18n="onboarding.api.skipNotice">
              No API key? No problem! Skip this step and add it later. The extension works great without AI predictions.
            </span>
          </div>
        </div>
      </div>

      <!-- Slide 4: Ready -->
      <div class="slide" data-slide="4">
        <div class="slide-icon">
          <svg width="120" height="120" viewBox="0 0 24 24" fill="none">
            <circle cx="12" cy="12" r="10" stroke="#10B981" stroke-width="2"/>
            <path d="M9 12l2 2 4-4" stroke="#10B981" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <h1 data-i18n="onboarding.ready.title">You're All Set! üéâ</h1>
        <p class="slide-description" data-i18n="onboarding.ready.description">
          SleepyTube is ready to make your YouTube experience sleep-safe. Here's what to do next:
        </p>
        
        <div class="next-steps">
          <div class="next-step">
            <div class="next-step-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <polygon points="5 3 19 12 5 21 5 3" fill="currentColor"/>
              </svg>
            </div>
            <div>
              <h3 data-i18n="onboarding.ready.step1.title">Open YouTube</h3>
              <p data-i18n="onboarding.ready.step1.description">Visit any video page</p>
            </div>
          </div>
          
          <div class="next-step">
            <div class="next-step-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M3 12h2v4H3v-4zm4-8h2v12H7V4zm4 5h2v11h-2V9zm4-3h2v14h-2V6zm4 7h2v7h-2v-7z" fill="currentColor"/>
              </svg>
            </div>
            <div>
              <h3 data-i18n="onboarding.ready.step2.title">Click SleepyTube Button</h3>
              <p data-i18n="onboarding.ready.step2.description">Look for the button in player controls</p>
            </div>
          </div>
          
          <div class="next-step">
            <div class="next-step-icon">
              <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" fill="currentColor"/>
              </svg>
            </div>
            <div>
              <h3 data-i18n="onboarding.ready.step3.title">Enjoy Safe Audio</h3>
              <p data-i18n="onboarding.ready.step3.description">Relax and sleep peacefully</p>
            </div>
          </div>
        </div>
      </div>

    </div>

    <!-- Navigation -->
    <div class="navigation">
      <button class="btn-nav btn-back" id="btn-back">
        <span>‚Üê</span>
        <span data-i18n="onboarding.nav.back">Back</span>
      </button>
      
      <div class="slide-dots">
        <span class="dot active" data-slide="1"></span>
        <span class="dot" data-slide="2"></span>
        <span class="dot" data-slide="3"></span>
        <span class="dot" data-slide="4"></span>
      </div>
      
      <div style="display: flex; gap: 12px;">
        <button class="btn-nav btn-skip" id="btn-skip" style="display: none;">
          <span data-i18n="onboarding.nav.skip">Skip</span>
        </button>
        <button class="btn-nav btn-next" id="btn-next">
          <span data-i18n="onboarding.nav.next">Next</span>
          <span>‚Üí</span>
        </button>
        <button class="btn-nav btn-finish" id="btn-finish" style="display: none;">
          <span data-i18n="onboarding.nav.finish">Get Started</span>
          <span>‚úì</span>
        </button>
      </div>
    </div>

  </div>

  <script src="i18n.js"></script>
  <script src="onboarding.js"></script>
</body>
</html>
